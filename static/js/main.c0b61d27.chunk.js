(this["webpackJsonpreact-weather-focast"]=this["webpackJsonpreact-weather-focast"]||[]).push([[0],{46:function(e){e.exports=JSON.parse('{"200":{"label":"thunderstorm with light rain","icon":"thunderstorm"},"201":{"label":"thunderstorm with rain","icon":"thunderstorm"},"202":{"label":"thunderstorm with heavy rain","icon":"thunderstorm"},"210":{"label":"light thunderstorm","icon":"lightning"},"211":{"label":"thunderstorm","icon":"lightning"},"212":{"label":"heavy thunderstorm","icon":"lightning"},"221":{"label":"ragged thunderstorm","icon":"lightning"},"230":{"label":"thunderstorm with light drizzle","icon":"thunderstorm"},"231":{"label":"thunderstorm with drizzle","icon":"thunderstorm"},"232":{"label":"thunderstorm with heavy drizzle","icon":"thunderstorm"},"300":{"label":"light intensity drizzle","icon":"sprinkle"},"301":{"label":"drizzle","icon":"sprinkle"},"302":{"label":"heavy intensity drizzle","icon":"rain"},"310":{"label":"light intensity drizzle rain","icon":"rain"},"311":{"label":"drizzle rain","icon":"rain"},"312":{"label":"heavy intensity drizzle rain","icon":"rain"},"313":{"label":"shower rain and drizzle","icon":"rain"},"314":{"label":"heavy shower rain and drizzle","icon":"rain"},"321":{"label":"shower drizzle","icon":"sprinkle"},"500":{"label":"light rain","icon":"sprinkle"},"501":{"label":"moderate rain","icon":"rain"},"502":{"label":"heavy intensity rain","icon":"rain"},"503":{"label":"very heavy rain","icon":"rain"},"504":{"label":"extreme rain","icon":"rain"},"511":{"label":"freezing rain","icon":"rain-mix"},"520":{"label":"light intensity shower rain","icon":"showers"},"521":{"label":"shower rain","icon":"showers"},"522":{"label":"heavy intensity shower rain","icon":"showers"},"531":{"label":"ragged shower rain","icon":"storm-showers"},"600":{"label":"light snow","icon":"snow"},"601":{"label":"snow","icon":"sleet"},"602":{"label":"heavy snow","icon":"snow"},"611":{"label":"sleet","icon":"rain-mix"},"612":{"label":"shower sleet","icon":"rain-mix"},"615":{"label":"light rain and snow","icon":"rain-mix"},"616":{"label":"rain and snow","icon":"rain-mix"},"620":{"label":"light shower snow","icon":"rain-mix"},"621":{"label":"shower snow","icon":"snow"},"622":{"label":"heavy shower snow","icon":"snow"},"701":{"label":"mist","icon":"showers"},"711":{"label":"smoke","icon":"smoke"},"721":{"label":"haze","icon":"day-haze"},"731":{"label":"sand, dust whirls","icon":"dust"},"741":{"label":"fog","icon":"day-fog"},"751":{"label":"sand","icon":"cloudy-gusts"},"761":{"label":"dust","icon":"dust"},"762":{"label":"volcanic ash","icon":"dust"},"771":{"label":"squalls","icon":"cloudy-gusts"},"781":{"label":"tornado","icon":"tornado"},"800":{"label":"clear sky","icon":"day-sunny"},"801":{"label":"few clouds","icon":"day-cloudy-gusts"},"802":{"label":"scattered clouds","icon":"day-cloudy-gusts"},"803":{"label":"broken clouds","icon":"day-cloudy-gusts"},"804":{"label":"overcast clouds","icon":"day-sunny-overcast"},"900":{"label":"tornado","icon":"tornado"},"901":{"label":"tropical storm","icon":"storm-showers"},"902":{"label":"hurricane","icon":"hurricane"},"903":{"label":"cold","icon":"snowflake-cold"},"904":{"label":"hot","icon":"hot"},"905":{"label":"windy","icon":"windy"},"906":{"label":"hail","icon":"hail"},"951":{"label":"calm","icon":"sunny"},"952":{"label":"light breeze","icon":"cloudy-gusts"},"953":{"label":"gentle breeze","icon":"cloudy-gusts"},"954":{"label":"moderate breeze","icon":"cloudy-gusts"},"955":{"label":"fresh breeze","icon":"cloudy-gusts"},"956":{"label":"strong breeze","icon":"cloudy-gusts"},"957":{"label":"high wind, near gale","icon":"strong-wind"},"958":{"label":"gale","icon":"cloudy-gusts"},"959":{"label":"severe gale","icon":"cloudy-gusts"},"960":{"label":"storm","icon":"thunderstorm"},"961":{"label":"violent storm","icon":"thunderstorm"},"962":{"label":"hurricane","icon":"cloudy-gusts"}}')},47:function(e,t,a){e.exports=a.p+"static/media/cloud.077965db.svg"},57:function(e,t,a){e.exports=a(72)},62:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(20),i=a.n(o),c=a(26),l=a(7),s=(a(62),a(16)),m=a(94),d=a(52),u=a(106),h=a(96),p=a(97),b={paddingRight:"15px",paddingLeft:"15px",marginRight:"auto",marginLeft:"auto","&:before,&:after":{display:"table",content:'" "'},"&:after":{clear:"both"}},g=(Object(s.a)(Object(s.a)({bottom:"0",borderTop:"1px solid ".concat("#e7e7e7"),padding:"15px 0"},{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontWeight:"300",lineHeight:"1.5em"}),{},{zIndex:4}),a(47)),f=a.n(g),y=Object(m.a)({appBar:{backgroundColor:"transparent",boxShadow:"none",marginBottom:"0",position:"absolute",width:"100%",height:"73px",paddingTop:"10px",zIndex:1029,color:"#555555",border:"0",borderRadius:"3px",padding:"10px 0",transition:"all 150ms ease 0s",minHeight:"50px",display:"block",borderBottom:"1px solid #0028641f"},container:Object(s.a)(Object(s.a)({},b),{},{minHeight:"50px"}),link:{textDecoration:"none"},logo:{height:"40px",display:"inline-block",verticalAlign:"middle"}});function w(){var e=y();return r.a.createElement(h.a,{className:e.appBar},r.a.createElement(p.a,{className:e.container},r.a.createElement(c.b,{to:"/",className:e.link,"data-testid":"homeLink"},r.a.createElement("img",{src:f.a,className:e.logo,alt:"Weather Forecast"})," ","Forecast App")))}var x=a(21),E=a.n(x),v=Object(m.a)({container:Object(s.a)({},b),left:{float:"left",display:"block"},right:{margin:"0",fontSize:"14px",float:"right",padding:"15px"},footer:{bottom:"0",padding:"15px 0",zIndex:4}});function j(){var e=v();return r.a.createElement("footer",{className:e.footer},r.a.createElement("div",{className:e.container},r.a.createElement("p",{className:e.right},"\xa9",E()().format("YYYY"),r.a.createElement("a",{href:"https://dtahoa.github.io",target:"_blank",rel:"noopener noreferrer"},"dtahoa"))))}var O=a(14),z=a(100),k=a(105),N=a(98),S=a(110),C=a(109),_=a(108),A=a(99),W=a(31),B=a(51),T=a.n(B);var F=Object(m.a)((function(e){return{error:{color:"red",padding:"10px"},search:{marginTop:"10px"}}}));function I(e){var t=F(),a=e.onCityChange,o=e.error,i=Object(n.useState)(""),c=Object(O.a)(i,2),l=c[0],s=c[1],m=Object(n.useState)(!1),d=Object(O.a)(m,2),u=d[0],h=d[1],p=function(e,t){var a=Object(n.useState)(e),r=Object(O.a)(a,2),o=r[0],i=r[1];return Object(n.useEffect)((function(){var a=setTimeout((function(){i(e)}),t);return function(){clearTimeout(a)}}),[t,e]),o}(l,1e3),b=o||!1;return Object(n.useEffect)((function(){p&&(a(p),h(!1))}),[a,p,u]),r.a.createElement(N.a,{item:!0,md:12,style:{textAlign:"left"}},r.a.createElement(S.a,null,r.a.createElement(C.a,{htmlFor:"search-city"},"Enter city name"),r.a.createElement(_.a,{id:"search-city",role:"search",type:"text",error:b,onChange:function(e){h(!0),s(e.target.value)},autoFocus:!0,endAdornment:u?r.a.createElement(A.a,{position:"end"},r.a.createElement(z.a,{size:20})):r.a.createElement(A.a,{position:"start"},r.a.createElement(T.a,null))}),o&&r.a.createElement(W.a,{className:t.error},o)))}var H=a(101),M=a(103),P=a(102),R=a(104),D=function(e){return r.a.createElement("span",null,E()(e.date).format("ddd, h:mA"))},L=a(107),U=a(111),Y=a(46),q=Object(m.a)((function(e){return Object(U.a)({icon:{marginRight:e.spacing(2),alignContent:"center",justifyContent:"center",textAlign:"center"},cardGrid:{justifyContent:"center",textAlign:"center",paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},card:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",background:"#fdcb6e"},cardContent:{flexGrow:1},wi:{color:"#2d3436"},temp:{alignContent:"center",textAlign:"center"}})})),J=function(e){var t=q(),a=e.forecast.map((function(e){var a="wi wi-"+Y[e.icon_id].icon;return r.a.createElement(N.a,{item:!0,key:e.date,xs:12,sm:3,md:2},r.a.createElement(H.a,{className:t.card},r.a.createElement(P.a,{className:t.cardContent},r.a.createElement(W.a,{gutterBottom:!0,variant:"subtitle1",component:"h3",align:"center"},E()(e.dt_txt).format("dddd")),r.a.createElement("div",{className:t.icon},r.a.createElement(L.a,{disabled:!0,"aria-label":"forecast icon"},r.a.createElement("span",{className:"".concat(t.wi," ").concat(a),style:{fontSize:"24px"}}))),r.a.createElement("div",{className:t.temp},r.a.createElement(W.a,{variant:"body2",component:"span",color:"textPrimary",align:"center"},Math.round(e.min),"\xb0 /"," "),r.a.createElement(W.a,{variant:"body2",component:"span",color:"textSecondary",align:"center"},Math.round(e.max),"\xb0")))))}));return r.a.createElement(N.a,{container:!0,spacing:2,justify:"center",alignContent:"center"},a)},G=Object(m.a)({root:{paddingBottom:"0px"},card:{minWidth:600,minHeight:500},iconTemp:{display:"block",textAlign:"center"},wi:{color:"#2d3436",borderRight:"1px solid #2d3436",padding:"20px",fontSize:"80px",display:"inline-block"},temp:{display:"inline-block",padding:"20px",margin:"20px 0"},tempDesc:{textAlign:"center"}}),$=function(e){var t=G(),a=e.loadingWeather,n=e.currentWeather,o=e.forecast,i=e.icon;return r.a.createElement(N.a,{item:!0,md:12,className:t.root},r.a.createElement(H.a,{className:t.card},a?r.a.createElement(z.a,{color:"secondary"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,{title:"".concat(n.city," ").concat(n.country),subheader:r.a.createElement(D,{date:n.date})}),r.a.createElement(P.a,null,r.a.createElement("div",{className:t.iconTemp},r.a.createElement("i",{className:"".concat(i," ").concat(t.wi)}),r.a.createElement(W.a,{variant:"h2",className:t.temp,color:"textPrimary",component:"h2"},Math.round(n.temperature),"\xb0C")),r.a.createElement(W.a,{variant:"h4",className:t.tempDesc,color:"textPrimary",component:"h4"},n.description.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))))),r.a.createElement(R.a,null,r.a.createElement(J,{forecast:o}))))},K=a(30),Q=a.n(K),V=a(40),X="https://api.openweathermap.org/data/2.5",Z="84777e8df3b215d48d552278b4bc99ec";function ee(e){if(e.ok)return e.json();throw new Error("Error: City name ".concat(e.statusText))}function te(){return(te=Object(V.a)(Q.a.mark((function e(t){var a,n,r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(X,"/weather/?q=").concat(t,"&units=metric&APPID=").concat(Z));case 2:if(a=e.sent,n=ee(a),!Object.entries(n).length){e.next=7;break}return r=ne(n),e.abrupt("return",r);case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(){return(ae=Object(V.a)(Q.a.mark((function e(t){var a,n,r,o;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(X,"/forecast/?q=").concat(t,"&units=metric&APPID=").concat(Z));case 2:if(a=e.sent,n=ee(a),!Object.entries(n).length){e.next=8;break}for(r=[],o=0;o<n.list.length;o+=8)r.push(ne(n.list[o+4]));return e.abrupt("return",r);case 8:return e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e){var t={city:e.name,country:e.sys.country,date:1e3*e.dt,humidity:e.main.humidity,icon_id:e.weather?e.weather[0].id:0,temperature:e.main.temp,description:e.weather&&e.weather[0].description,wind_speed:Math.round(3.6*e.wind.speed),condition:e.cod,dt_txt:e.dt_txt?e.dt_txt:"",icon:e.weather?e.weather[0].icon:"",max:e.main.temp_max,min:e.main.temp_min};return e.dt_txt&&(t.dt_txt=e.dt_txt),e.weather&&e.weather[0].icon&&(t.icon=e.weather[0].icon),e.main.temp_min&&e.main.temp_max&&(t.max=e.main.temp_max,t.min=e.main.temp_min),t}var re=[{path:"/",name:"WeatherDashboard",component:function(){var e=Object(n.useState)("Ho Chi Minh"),t=Object(O.a)(e,2),a=t[0],o=t[1],i=Object(n.useState)(null),c=Object(O.a)(i,2),l=c[0],s=c[1],m=Object(n.useState)({}),d=Object(O.a)(m,2),u=d[0],h=d[1],p=Object(n.useState)([]),b=Object(O.a)(p,2),g=b[0],f=b[1],y=Object(n.useState)(!1),w=Object(O.a)(y,2),x=w[0],E=w[1];Object(n.useEffect)((function(){E(!0),function(e){return te.apply(this,arguments)}(a).then((function(e){h(e),s(null),E(!1)})).catch((function(e){s(e.message),E(!1)}))}),[a,l]),Object(n.useEffect)((function(){(function(e){return ae.apply(this,arguments)})(a).then((function(e){f(e),s(null)})).catch((function(e){s(e.message)}))}),[a,l]);if(u&&Object.keys(u).length||g&&Object.keys(g).length){var v="wi wi-"+Y[u.icon_id].icon;return r.a.createElement(k.a,{maxWidth:"md"},r.a.createElement(N.a,{container:!0,spacing:2,alignContent:"center",justify:"center"},r.a.createElement(I,{onCityChange:function(e){o(e)},error:l}),r.a.createElement($,{currentWeather:u,forecast:g,icon:v,loadingWeather:x})))}return r.a.createElement("div",null,r.a.createElement(z.a,{color:l?"secondary":"primary"}),l?r.a.createElement("p",null,l):"")},layout:"/"}],oe=Object(m.a)((function(e){return{wrapper:{position:"relative",top:"0",height:"100vh","&:after":{display:"table",clear:"both",content:'" "'}},content:{marginTop:"70px",padding:"30px 15px",minHeight:"calc(100vh - 222px)"},container:Object(s.a)({},b)}})),ie=function(){var e=oe(),t=Object(d.a)({typography:{fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),subtitle1:{fontSize:16,fontWeight:"bold"}}});return r.a.createElement(u.a,{theme:t},r.a.createElement(w,null),r.a.createElement("div",{className:e.content},r.a.createElement("div",{className:e.container},re.map((function(e){return"/"===e.layout?r.a.createElement(l.a,{path:e.layout+e.path,component:e.component,key:e.name}):null})))),r.a.createElement(j,null))},ce=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Page not found :("),r.a.createElement("p",null,"Maybe the page you are looking for has been removed, or you typed in the wrong URL"))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(c.a,null,r.a.createElement(l.c,null,r.a.createElement(l.a,{exact:!0,path:"/",component:ie}),r.a.createElement(l.a,{component:ce})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[57,1,2]]]);
//# sourceMappingURL=main.c0b61d27.chunk.js.map